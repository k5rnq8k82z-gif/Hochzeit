
<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0d1016">
  <title>Kim & Partner â€“ Hochzeit in Thailand</title>
  <meta name="description" content="Hochzeit von Kim & Partner in Thailand â€“ RSVP, Infos, Galerie & GÃ¤stebuch" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg: #0d1016;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(255,255,255,.10);
      --border: rgba(255,255,255,.14);
      --fg: #eef2fa;
      --muted:#aab0c0;
      --brand:#ff8fb2;
      --brand2:#78d3ff;
      --accent:#ffd166;
      --ok:#39d353;
      --warn:#ffcc00;
      --error:#ff6b6b;
      --shadow: 0 16px 48px rgba(0,0,0,.38), inset 0 1px 0 rgba(255,255,255,.06);
      --radius: 18px;
      --radius-lg: 22px;
      --ring: 0 0 0 8px rgba(255,143,178,.08);
    }
    * { box-sizing:border-box; }
    html,body {
      margin:0; padding:0; color:var(--fg);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background:
        radial-gradient(1400px 700px at 10% -10%, rgba(255,143,178,.08), transparent 60%),
        radial-gradient(1200px 600px at 110% 0%, rgba(120,211,255,.08), transparent 60%),
        linear-gradient(180deg, #0b0e14 0%, #0d1016 60%, #0a0c12 100%);
      min-height:100%;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }
    a { color: var(--brand2); text-decoration: none; }
    img { max-width:100%; display:block; border-radius: 14px; }
    .wrap { max-width: 1200px; margin:0 auto; padding: 0 20px; }

    header{
      position:sticky; top:0; z-index:40;
      background: rgba(13,16,22,.55);
      backdrop-filter: blur(14px);
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .nav{ display:flex; align-items:center; justify-content:space-between; gap:18px; padding:18px 0; }
    .brand{ display:flex; align-items:center; gap:14px; }
    .brand .dot{
      width:14px; height:14px; border-radius:50%;
      background: conic-gradient(from 60deg, var(--brand), var(--brand2), var(--accent));
      box-shadow: 0 0 22px rgba(255,143,178,.85);
    }
    .brand .names{ font-family: "Playfair Display", serif; font-weight:700; letter-spacing:.2px; font-size: clamp(18px, 2vw, 22px); }
    .navlinks a{
      padding:10px 14px; border-radius:12px; color:var(--fg);
    }
    .navlinks a:hover{ background: rgba(255,255,255,.08); }
    .cta{ display:inline-flex; align-items:center; gap:10px; padding:10px 16px; border-radius:12px; background:linear-gradient(135deg,var(--brand),var(--brand2)); color:#0c0f14; font-weight:800; box-shadow:0 8px 24px rgba(255,143,178,.28), 0 6px 16px rgba(120,211,255,.18); }

    .hero{
      position:relative; overflow:hidden; isolation:isolate;
      padding: clamp(48px, 8vw, 90px) 0 28px;
      text-align:center;
    }
    .hero::before{
      content:""; position:absolute; inset:-10% -5% auto -5%; height:68%;
      background: url('img/hero.jpg') center/cover no-repeat;
      filter: saturate(1.05) contrast(1.05) brightness(.85);
      z-index:-1; opacity:.35; border-bottom-left-radius: 50% 14%; border-bottom-right-radius: 50% 14%;
    }
    .hero h1{ font-family:"Playfair Display", serif; font-weight:700; font-size: clamp(30px, 6.5vw, 60px); margin:0 0 10px; }
    .hero p{ color:var(--muted); margin:0 auto; max-width: 780px; }
    .hero .meta{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:16px; }
    .pill{ display:inline-flex; align-items:center; gap:10px; padding:10px 14px; border-radius:999px;
           background: var(--glass); border:1px solid var(--border); }
    .divider{ height:28px; opacity:.7; background:url('img/thai_border.svg') center/280px repeat-x; }
    .section{ padding: 32px 0 16px; }
    .grid{ display:grid; gap:20px; grid-template-columns: repeat(12, 1fr); }
    .col-12{ grid-column: span 12; }
    .col-6{ grid-column: span 12; }
    @media(min-width:920px){ .col-6{ grid-column: span 6; } }

    .card{
      background: var(--glass);
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 22px;
      transition: transform .25s ease, box-shadow .25s ease;
    }
    .card:hover{ transform: translateY(-2px); box-shadow: 0 18px 48px rgba(0,0,0,.45); }

    form label{ display:block; font-weight:700; margin:12px 0 6px; }
    input[type="text"], input[type="email"], textarea, select, input[type="number"]{
      width:100%; padding:12px 14px; border-radius:12px;
      border:1px solid rgba(255,255,255,.14); background:rgba(255,255,255,.06); color:var(--fg);
      outline:none; transition: box-shadow .2s ease, border-color .2s ease;
    }
    input:focus, textarea:focus, select:focus{ border-color: rgba(255,255,255,.22); box-shadow: var(--ring); }
    textarea{ min-height:100px; resize:vertical; }
    .row{ display:flex; gap:12px; flex-wrap:wrap; }
    .row > *{ flex:1; min-width:180px; }
    .radios{ display:flex; gap:12px; flex-wrap: wrap; }
    .chip{ display:inline-flex; align-items:center; gap:10px; padding:10px 14px;
           border-radius:999px; border:1px solid rgba(255,255,255,.14); cursor:pointer;
           background:rgba(255,255,255,.07); }
    .chip[data-checked="true"]{ outline:2px solid rgba(255,255,255,.2); background:rgba(255,255,255,.12); }
    .btn{ display:inline-flex; align-items:center; justify-content:center; gap:10px;
          border:0; padding:12px 18px; border-radius:12px; cursor:pointer; font-weight:800;
          color:#0c0f14; background:linear-gradient(135deg, var(--brand), var(--brand2));
          box-shadow: 0 12px 28px rgba(255,143,178,.30), 0 8px 22px rgba(120,211,255,.22); }
    .btn.ghost{ background: transparent; color:var(--fg); border:1px solid rgba(255,255,255,.20); }
    .hint{ color:var(--muted); font-size:14px; }
    .success{ color: var(--ok); font-weight:700; }
    .error{ color: var(--error); font-weight:700; }
    .warn{ color: var(--warn); font-weight:700; }

    .gallery{ display:grid; gap:10px; grid-template-columns: repeat(2, 1fr); }
    @media(min-width:760px){ .gallery{ grid-template-columns: repeat(4, 1fr); } }
    .gallery img{ border-radius:16px; aspect-ratio: 1/1; object-fit:cover; cursor:pointer; transition: transform .2s ease; }
    .gallery img:hover{ transform: translateY(-2px) scale(1.01); }
    .lightbox{ position:fixed; inset:0; background:rgba(0,0,0,.88); display:none; align-items:center; justify-content:center; z-index:50; }
    .lightbox.show{ display:flex; }
    .lightbox img{ max-width:92vw; max-height:84vh; border-radius:16px; box-shadow:0 12px 40px rgba(0,0,0,.5); }
    .lightbox .close{ position:absolute; top:16px; right:20px; font-size:28px; cursor:pointer; color:#fff; }

    .bubble{ background:var(--glass2); border:1px solid var(--border); border-radius:18px; padding:12px 14px; }
    .bubble .name{ font-weight:700; }
    .bubble .msg{ color:var(--fg); opacity:.95; margin-top:4px; }

    #splash{ position:fixed; inset:0; z-index:1000;
      background: #000 url('img/hero.jpg') center/cover no-repeat; display:grid; place-items:center; transition: opacity .9s ease; }
    #splash::after{ content:""; position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.15), rgba(0,0,0,.55)); }
    #splash .title{ position:relative; z-index:2; text-align:center; padding:16px 24px; border-radius:999px;
      background: rgba(255,255,255,.14); backdrop-filter: blur(8px); box-shadow: var(--shadow);
      font-weight:800; letter-spacing:.6px; }
    #splash.hide{ opacity:0; pointer-events:none; }

    footer{ padding:60px 20px; text-align:center; color:var(--muted); }
    @media (prefers-reduced-motion: reduce){ *{ transition:none !important; animation:none !important; } }
  </style>
</head>
<body>
  <div id="splash" aria-hidden="true">
    <div class="title">Kim &amp; Partner â€¢ 20. Juni 2026 â€¢ Thailand ğŸ‡¹ğŸ‡­</div>
  </div>

  <header>
    <div class="wrap nav">
      <div class="brand">
        <span class="dot"></span>
        <span class="names">Kim & Partner</span>
      </div>
      <div class="navlinks">
        <a href="#rsvp">Check-in</a>
        <a href="#infos">Infos</a>
        <a href="#galerie">Galerie</a>
        <a href="#chat">GÃ¤stebuch</a>
        <a class="cta" href="admin.html">Admin</a>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="wrap">
      <h1>Willkommen zu unserer Hochzeit in Thailand</h1>
      <p>Palmen, Sonne, Meer â€“ und ihr mittendrin. Hier kÃ¶nnt ihr eure Zusage geben, alle Infos finden, Bilder anschauen und liebe GrÃ¼ÃŸe im GÃ¤stebuch hinterlassen.</p>
      <div class="meta">
        <span class="pill">ğŸ“ Koh Samui</span>
        <span class="pill">ğŸ’Œ Dresscode: Festlich & sommerlich</span>
        <span class="pill">ğŸ—“ï¸ 20. Juni 2026</span>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <main>
    <section id="rsvp" class="section">
      <div class="wrap grid">
        <div class="col-6">
          <div class="card">
            <h2 style="margin-top:0">Check-in / Zusage</h2>
            <p class="hint">Bitte fÃ¼llt die Felder aus. Ihr kÃ¶nnt Begleitpersonen mit Namen & Alter angeben.</p>

            <form id="rsvpForm" name="rsvp" method="post" action="/" data-netlify="true" netlify-honeypot="bot-field" novalidate>
              <input type="hidden" name="form-name" value="rsvp" />
              <p style="display:none;"><label>Bitte freilassen: <input name="bot-field" /></label></p>

              <label for="name">Vor- &amp; Nachname *</label>
              <input id="name" name="name" type="text" placeholder="Max Mustermann" required autocomplete="name" autocapitalize="words">

              <div class="row">
                <div>
                  <label>Teilnahme *</label>
                  <div class="radios" id="attendingRadios" role="radiogroup" aria-label="Teilnahme">
                    <label class="chip" data-chip><input type="radio" name="attending" value="ja" required><span>Ich komme</span></label>
                    <label class="chip" data-chip><input type="radio" name="attending" value="nein"><span>Kann leider nicht</span></label>
                  </div>
                </div>
                <div>
                  <label for="guests">Anzahl Begleitpersonen</label>
                  <select id="guests" name="guests">
                    <option value="0" selected>0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                  </select>
                </div>
              </div>

              <div id="companions">
                <div class="row"><div><label for="c1name">Begleitung 1 â€“ Name</label><input id="c1name" name="c1name" type="text" placeholder="Vor- & Nachname"></div><div><label for="c1age">Alter</label><input id="c1age" name="c1age" type="number" min="0" max="120" placeholder="z.â€¯B. 28"></div></div>
                <div class="row"><div><label for="c2name">Begleitung 2 â€“ Name</label><input id="c2name" name="c2name" type="text"></div><div><label for="c2age">Alter</label><input id="c2age" name="c2age" type="number" min="0" max="120"></div></div>
                <div class="row"><div><label for="c3name">Begleitung 3 â€“ Name</label><input id="c3name" name="c3name" type="text"></div><div><label for="c3age">Alter</label><input id="c3age" name="c3age" type="number" min="0" max="120"></div></div>
                <div class="row"><div><label for="c4name">Begleitung 4 â€“ Name</label><input id="c4name" name="c4name" type="text"></div><div><label for="c4age">Alter</label><input id="c4age" name="c4age" type="number" min="0" max="120"></div></div>
              </div>

              <label for="email">E-Mail (optional)</label>
              <input id="email" name="email" type="email" placeholder="max@example.com" inputmode="email" autocomplete="email">

              <label for="message">Nachricht (optional)</label>
              <textarea id="message" name="message" placeholder="Allergien, MusikwÃ¼nsche, Hinweise â€¦"></textarea>

              <label class="hint" style="display:flex; align-items:center; gap:10px; margin-top:12px;">
                <input type="checkbox" id="privacy" required>
                <span>Ich stimme zu, dass meine Angaben zur Organisation der Hochzeit verarbeitet werden.</span>
              </label>

              <div class="row" style="margin-top:14px;">
                <button class="btn" type="submit" id="submitBtn">Einchecken</button>
                <button class="btn ghost" type="button" id="resetBtn">ZurÃ¼cksetzen</button>
              </div>
              <p id="status" role="status" style="margin-top:10px;"></p>
            </form>
          </div>
        </div>

        <div class="col-6">
          <div class="card">
            <h2 style="margin-top:0">Ablauf &amp; Ort</h2>
            <ul class="clean" style="list-style:none; padding:0; margin:0; display:grid; gap:10px;">
              <li><span class="pill">ğŸ—“ï¸</span> <strong>Datum:</strong> 20. Juni 2026</li>
              <li><span class="pill">ğŸ’</span> <strong>Trauung:</strong> 14:00 Uhr, Strandzeremonie Koh Samui</li>
              <li><span class="pill">ğŸ‰</span> <strong>Feier:</strong> ab 16:00 Uhr, Beach Resort</li>
              <li><span class="pill">ğŸ‘—</span> <strong>Dresscode:</strong> Festlich, sommerlich</li>
              <li><span class="pill">ğŸš—</span> <strong>Anfahrt:</strong> Shuttle vom Hotel â€¢ Taxis verfÃ¼gbar</li>
              <li><span class="pill">ğŸ›Œ</span> <strong>Ãœbernachtung:</strong> Resort-Kontingent (Stichwort â€Hochzeit Kimâ€œ)</li>
            </ul>
            <p class="hint" style="margin-top:10px">QR-Code fÃ¼hrt direkt auf diese Seite â€“ einfach scannen.</p>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <section id="infos" class="section">
      <div class="wrap grid">
        <div class="col-12">
          <div class="card">
            <h2 style="margin-top:0">Weitere Informationen</h2>
            <p>Thailand-Flair, Palmen & Sonnenuntergang â€“ wir freuen uns auf einen unvergesslichen Tag mit euch! ğŸ‡¹ğŸ‡­ğŸŒ…</p>
            <ul class="clean" style="list-style:none; padding:0; margin:0; display:grid; gap:10px;">
              <li><strong>Geschenke:</strong> Eure Anwesenheit ist unser Geschenk. Wer mag: <em>Reisekasse</em> ğŸ’</li>
              <li><strong>Kinder:</strong> Sehr gern! Kinderbetreuung am Strand.</li>
              <li><strong>Fotos:</strong> Nach der Feier fÃ¼llen wir die Galerie. Hashtag <span class="pill">#KimUndPartnerInThailand</span></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"></div>

    <section id="galerie" class="section">
      <div class="wrap grid">
        <div class="col-12">
          <div class="card">
            <h2 style="margin-top:0">Galerie</h2>
            <div class="gallery" id="gallery">
              <img src="img/pic1.jpg" alt="Strand">
              <img src="img/pic2.jpg" alt="Palmen">
              <img src="img/pic3.jpg" alt="Thailand">
              <img src="img/pic4.jpg" alt="Sonnenuntergang">
            </div>
            <p class="hint" style="margin-top:10px">Tipp: Bild antippen â€“ Lightbox Ã¶ffnet sich.</p>
          </div>
        </div>
      </div>
      <div class="lightbox" id="lightbox"><span class="close" id="lbClose">âœ•</span><img id="lbImg" alt=""></div>
    </section>

    <div class="divider"></div>

    <section id="chat" class="section">
      <div class="wrap grid">
        <div class="col-12">
          <div class="card">
            <h2 style="margin-top:0">GÃ¤stebuch / Chat ğŸ’¬</h2>
            <p class="hint">Hinterlasst uns gern eine liebe Nachricht! (Ã–ffentlich sichtbar)</p>
            <div class="row">
              <input id="chatName" type="text" placeholder="Dein Name">
              <input id="chatText" type="text" placeholder="Deine Nachricht â€¦" />
              <button class="btn" id="chatSend">Senden</button>
            </div>
            <p id="chatStatus" class="hint" style="margin-top:8px;"></p>
            <div id="chatList" style="margin-top:14px; display:grid; gap:10px;"></div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    Mit Liebe gemacht. Â© Kim &amp; Partner
  </footer>

  <script>
    const SHEET_ENDPOINT = "https://script.google.com/macros/s/AKfycbzFiGVXqdeDVQH7cENcb123mg4at0I9Xhjv-D599mkVkqUSMtSygDhgIUmP29PVS9CP/exec";

    const splash = document.getElementById('splash');
    const hideSplash = () => splash.classList.add('hide');
    window.addEventListener('load', () => setTimeout(hideSplash, 1100));
    splash.addEventListener('click', hideSplash);

    document.querySelectorAll('[data-chip]').forEach(label => {
      const input = label.querySelector('input[type="radio"]');
      input.addEventListener('change', () => {
        label.parentElement.querySelectorAll('[data-chip]').forEach(l => l.dataset.checked = 'false');
        label.dataset.checked = 'true';
      });
    });

    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    document.getElementById('gallery').addEventListener('click', (e) => {
      if (e.target.tagName === 'IMG') { lbImg.src = e.target.src; lb.classList.add('show'); }
    });
    document.getElementById('lbClose').addEventListener('click', () => lb.classList.remove('show'));
    lb.addEventListener('click', (e) => { if (e.target === lb) lb.classList.remove('show'); });

    const form = document.getElementById('rsvpForm');
    const statusEl = document.getElementById('status');
    const submitBtn = document.getElementById('submitBtn');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = "";
      statusEl.className = "";

      const fd = new FormData(form);
      const name = (document.getElementById('name').value || "").trim();
      const email = (document.getElementById('email').value || "").trim();
      const message = (document.getElementById('message').value || "").trim();
      const guests = document.getElementById('guests').value;
      const attending = (fd.get('attending') || "").toString();
      const privacy = document.getElementById('privacy').checked;

      if(!name || !attending || !privacy){
        statusEl.textContent = "Bitte fÃ¼lle Name, Teilnahme & Datenschutz aus.";
        statusEl.className = "error";
        return;
      }

      const payload = new URLSearchParams({
        type: "rsvp",
        name, email, message, guests, attending,
        c1name: (document.getElementById('c1name').value || ""),
        c1age: (document.getElementById('c1age').value || ""),
        c2name: (document.getElementById('c2name').value || ""),
        c2age: (document.getElementById('c2age').value || ""),
        c3name: (document.getElementById('c3name').value || ""),
        c3age: (document.getElementById('c3age').value || ""),
        c4name: (document.getElementById('c4name').value || ""),
        c4age: (document.getElementById('c4age').value || ""),
        ua: navigator.userAgent
      });

      try{
        submitBtn && (submitBtn.disabled = true);
        statusEl.textContent = "Sende â€¦";
        const res = await fetch(SHEET_ENDPOINT, {
          method: "POST",
          headers: { "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" },
          body: payload.toString()
        });
        if (!res.ok) throw new Error("HTTP " + res.status);
        let ok = true;
        try { const j = await res.json(); ok = !!j.ok; if (!ok && j.error) throw new Error(j.error); } catch(_) {}
        if (ok) {
          statusEl.textContent = attending === 'ja' ? "Danke fÃ¼r deine Zusage! ğŸ‰" : "Schade, aber danke fÃ¼rs Bescheid sagen!";
          statusEl.className = "success";
          form.reset();
          document.querySelectorAll('[data-chip]').forEach(l => l.dataset.checked = 'false');
        } else {
          throw new Error("Antwort nicht bestÃ¤tigt");
        }
      } catch (err) {
        console.error(err);
        statusEl.textContent = "Speichern fehlgeschlagen â€“ bitte kurz spÃ¤ter erneut probieren.";
        statusEl.className = "error";
      } finally {
        submitBtn && (submitBtn.disabled = false);
      }
    });

    const chatName = document.getElementById('chatName');
    const chatText = document.getElementById('chatText');
    const chatSend = document.getElementById('chatSend');
    const chatList = document.getElementById('chatList');
    const chatStatus = document.getElementById('chatStatus');

    chatSend.addEventListener('click', async () => {
      chatStatus.textContent = "";
      const n = (chatName.value || "").trim();
      const t = (chatText.value || "").trim();
      if (!n || !t) { chatStatus.textContent = "Bitte Name und Nachricht eingeben."; return; }
      try {
        const res = await fetch(SHEET_ENDPOINT, {
          method: "POST",
          headers: { "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" },
          body: new URLSearchParams({ type: "chat", name: n, message: t, ua: navigator.userAgent }).toString()
        });
        if (!res.ok) throw new Error();
        chatText.value = "";
        chatStatus.textContent = "Gesendet ğŸ’¬";
        loadChat();
      } catch(e) {
        chatStatus.textContent = "Chat speichern fehlgeschlagen.";
      }
    });

    async function loadChat() {
      chatList.innerHTML = "";
      try {
        const url = new URL(SHEET_ENDPOINT);
        url.searchParams.set("type", "chat");
        url.searchParams.set("list", "1");
        const res = await fetch(url, { method: "GET" });
        const j = await res.json();
        if (!j.ok) throw new Error(j.error || "Fehler");
        (j.rows || []).slice(-50).forEach(r => {
          const div = document.createElement('div');
          div.className = "bubble";
          div.innerHTML = `<div class="name>${{r.name || 'Gast'}}</div><div class="msg">${{r.message || ''}}</div>`;
          chatList.appendChild(div);
        });
      } catch(e) {
        chatStatus.textContent = "Chat laden nicht mÃ¶glich.";
      }
    }
    loadChat();
  </script>
</body>
</html>
